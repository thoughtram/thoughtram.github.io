'use strict';
/* global window document lory */function _toConsumableArray(arr) {if (Array.isArray(arr)) {for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {arr2[i] = arr[i];}return arr2;} else {return Array.from(arr);}}

document.addEventListener('DOMContentLoaded', function () {
  var body = document.querySelector('body');
  var navToggle = document.querySelector('#thtrm-nav-button');
  var menu = document.querySelector('#thtrm-nav-main-list');
  var testimonialWrapper = document.querySelector('#js-thtrm-testimonials');
  var addActiveModifierClass = function addActiveModifierClass(htmlEl) {return (
      htmlEl.classList.add('is-active'));};
  var removeActiveModifierClass = function removeActiveModifierClass(htmlEl) {return (
      htmlEl.classList.remove('is-active'));};
  var goToSlide = function goToSlide(instance) {return function (slideNum) {return (
        instance.slideTo(slideNum));};};
  var updateThumbnails = function updateThumbnails(xs) {return function (activeIndex) {
      xs.forEach(removeActiveModifierClass);
      addActiveModifierClass(xs[activeIndex]);
    };};
  var toggleNav = function toggleNav(state) {
    var isVisible = state ||
    navToggle.getAttribute('aria-expanded') === 'true' ? 'false' : 'true';

    navToggle.setAttribute(
    'aria-expanded', '' +
    isVisible);

    menu.classList.toggle('is-visible');
    return isVisible;
  };

  var hideNav = function hideNav() {
    navToggle.setAttribute(
    'aria-expanded', 'false');

    menu.classList.remove('is-visible');
  };

  if (testimonialWrapper && window.lory) {
    var testimonialThumbnails = [].concat(_toConsumableArray(
    document.querySelectorAll('.js-thtrm-testimonial-trigger')));
    var testimonialGallery = lory && lory(testimonialWrapper, {
      enableMouseEvents: true,
      slidesToScroll: 1,
      slideSpeed: 500,
      ease: 'cubic-bezier(0.455, 0.03, 0.515, 0.955)' });


    var goToSlideTestimonialGallery = goToSlide(testimonialGallery);
    var updateTestimonialThumbnails = updateThumbnails(testimonialThumbnails);

    testimonialWrapper.addEventListener('after.lory.slide', function (ev) {
      updateTestimonialThumbnails(ev.detail.currentSlide);
    });

    testimonialThumbnails.forEach(function (el) {return (
        el.addEventListener('click', function () {
          var slideNum = Number(el.getAttribute('data-slide-num')) - 1;
          goToSlideTestimonialGallery(slideNum);
        }));});
  }

  navToggle.addEventListener('click', function (ev) {
    var isVisible = toggleNav();
    ev.stopPropagation();
    ev.stopImmediatePropagation();
    if (isVisible === 'true') {
      body.addEventListener('click', hideNav, { once: true });
    } else {
      body.removeEventListener('click', hideNav);
    }
  }, false);

  document.addEventListener('keydown', function (evt) {
    var isEscape = 'key' in evt ?
    evt.key == 'Escape' || evt.key == 'Esc' :
    evt.keyCode == 27;

    if (isEscape) {
      hideNav();
      body.removeEventListener('click', hideNav);
    }
  });
});

var gaProperty = 'UA-51360648-2';

var disableStr = 'ga-disable-' + gaProperty;

if (document.cookie.indexOf(disableStr + '=true') > -1) {
  window[disableStr] = true;
}

function gaOptout() {
  document.cookie = disableStr + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/';
  window[disableStr] = true;

}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiYm9keSIsInF1ZXJ5U2VsZWN0b3IiLCJuYXZUb2dnbGUiLCJtZW51IiwidGVzdGltb25pYWxXcmFwcGVyIiwiYWRkQWN0aXZlTW9kaWZpZXJDbGFzcyIsImh0bWxFbCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZUFjdGl2ZU1vZGlmaWVyQ2xhc3MiLCJyZW1vdmUiLCJnb1RvU2xpZGUiLCJpbnN0YW5jZSIsInNsaWRlTnVtIiwic2xpZGVUbyIsInVwZGF0ZVRodW1ibmFpbHMiLCJ4cyIsImFjdGl2ZUluZGV4IiwiZm9yRWFjaCIsInRvZ2dsZU5hdiIsInN0YXRlIiwiaXNWaXNpYmxlIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwidG9nZ2xlIiwiaGlkZU5hdiIsIndpbmRvdyIsImxvcnkiLCJ0ZXN0aW1vbmlhbFRodW1ibmFpbHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwidGVzdGltb25pYWxHYWxsZXJ5IiwiZW5hYmxlTW91c2VFdmVudHMiLCJzbGlkZXNUb1Njcm9sbCIsInNsaWRlU3BlZWQiLCJlYXNlIiwiZ29Ub1NsaWRlVGVzdGltb25pYWxHYWxsZXJ5IiwidXBkYXRlVGVzdGltb25pYWxUaHVtYm5haWxzIiwiZXYiLCJkZXRhaWwiLCJjdXJyZW50U2xpZGUiLCJlbCIsIk51bWJlciIsInN0b3BQcm9wYWdhdGlvbiIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIm9uY2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwiaXNFc2NhcGUiLCJrZXkiLCJrZXlDb2RlIiwiZ2FQcm9wZXJ0eSIsImRpc2FibGVTdHIiLCJjb29raWUiLCJpbmRleE9mIiwiZ2FPcHRvdXQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsaUM7O0FBRUFBLFNBQVNDLGdCQUFULENBQTBCLGtCQUExQixFQUE4QyxZQUFNO0FBQ2xELE1BQU1DLE9BQU9GLFNBQVNHLGFBQVQs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eEM7QUFDRCxLQUZELE1BRU87QUFDTDVDLFdBQUs2QyxtQkFBTCxDQUF5QixPQUF6QixFQUFrQ3BCLE9BQWxDO0FBQ0Q7QUFDRixHQVRELEVBU0csS0FUSDs7QUFXQTNCLFdBQVNDLGdCQUFULENBQTBCLFNBQTFCLEVBQXFDLFVBQUMrQyxHQUFELEVBQVM7QUFDNUMsUUFBSUMsV0FBVyxTQUFTRCxHQUFUO0FBQ1pBLFFBQUlFLEdBQUosSUFBVyxRQUFYLElBQXVCRixJQUFJRSxHQUFKLElBQVcsS0FEdEI7QUFFWkYsUUFBSUcsT0FBSixJQUFlLEVBRmxCOztBQUlBLFFBQUlGLFFBQUosRUFBYztBQUNadEI7QUFDQXpCLFdBQUs2QyxtQkFBTCxDQUF5QixPQUF6QixFQUFrQ3BCLE9BQWxDO0FBQ0Q7QUFDRixHQVREO0FBVUQsQ0EvRUQ7O0FBaUZBLElBQU15QixhQUFhLGVBQW5COztBQUVBLElBQU9DLGFBQWEsZ0JBQWdCRCxVQUFwQzs7QUFFQSxJQUFJcEQsU0FBU3NELE1BQVQsQ0FBZ0JDLE9BQWhCLENBQXdCRixhQUFhLE9BQXJDLElBQWdELENBQUMsQ0FBckQsRUFBd0Q7QUFDdER6QixTQUFPeUIsVUFBUCxJQUFxQixJQUFyQjtBQUNEOztBQUVELFNBQVNHLFFBQVQsR0FBb0I7QUFDbEJ4RCxXQUFTc0QsTUFBVCxHQUFrQkQsYUFBYSxzREFBL0I7QUFDQXpCLFNBQU95QixVQUFQLElBQXFCLElBQXJCOztBQUVEIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG4vKiBnbG9iYWwgd2luZG93IGRvY3VtZW50IGxvcnkgKi9cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcbiAgY29uc3QgbmF2VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RodHJtLW5hdi1idXR0b24nKTtcbiAgY29uc3QgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0aHRybS1uYXYtbWFpbi1saXN0Jyk7XG4gIGNvbnN0IHRlc3RpbW9uaWFsV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNqcy10aHRybS10ZXN0aW1vbmlhbHMnKTtcbiAgY29uc3QgYWRkQWN0aXZlTW9kaWZpZXJDbGFzcyA9IChodG1sRWwpID0+XG4gICAgaHRtbEVsLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICBjb25zdCByZW1vdmVBY3RpdmVNb2RpZmllckNsYXNzID0gKGh0bWxFbCkgPT5cbiAgICBodG1sRWwuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gIGNvbnN0IGdvVG9TbGlkZSA9IChpbnN0YW5jZSkgPT4gKHNsaWRlTnVtKSA9PlxuICAgIGluc3RhbmNlLnNsaWRlVG8oc2xpZGVOdW0pO1xuICBjb25zdCB1cGRhdGVUaHVtYm5haWxzID0gKHhzKSA9PiAoYWN0aXZlSW5kZXgpID0+IHtcbiAgICB4cy5mb3JFYWNoKHJlbW92ZUFjdGl2ZU1vZGlmaWVyQ2xhc3MpO1xuICAgIGFkZEFjdGl2ZU1vZGlmaWVyQ2xhc3MoeHNbYWN0aXZlSW5kZXhdKTtcbiAgfTtcbiAgY29uc3QgdG9nZ2xlTmF2ID0gKHN0YXRlKSA9PiB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gc3RhdGUgfHxcbiAgICAgIG5hdlRvZ2dsZS5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKSA9PT0gJ3RydWUnID8gJ2ZhbHNlJyA6ICd0cnVlJztcblxuICAgIG5hdlRvZ2dsZS5zZXRBdHRyaWJ1dGUoXG4gICAgICAnYXJpYS1leHBhbmRlZCcsXG4gICAgICBgJHtpc1Zpc2libGV9YFxuICAgICk7XG4gICAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKCdpcy12aXNpYmxlJyk7XG4gICAgcmV0dXJuIGlzVmlzaWJsZTtcbiAgfTtcblxuICBjb25zdCBoaWRlTmF2ID0gKCkgPT4ge1xuICAgIG5hdlRvZ2dsZS5zZXRBdHRyaWJ1dGUoXG4gICAgICAnYXJpYS1leHBhbmRlZCcsICdmYWxzZSdcbiAgICApO1xuICAgIG1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnaXMtdmlzaWJsZScpO1xuICB9O1xuXG4gIGlmICh0ZXN0aW1vbmlhbFdyYXBwZXIgJiYgd2luZG93LmxvcnkpIHtcbiAgICBjb25zdCB0ZXN0aW1vbmlhbFRodW1ibmFpbHMgPVxuICAgICAgWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy10aHRybS10ZXN0aW1vbmlhbC10cmlnZ2VyJyldO1xuICAgIGNvbnN0IHRlc3RpbW9uaWFsR2FsbGVyeSA9IGxvcnkgJiYgbG9yeSh0ZXN0aW1vbmlhbFdyYXBwZXIsIHtcbiAgICAgIGVuYWJsZU1vdXNlRXZlbnRzOiB0cnVlLFxuICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICBzbGlkZVNwZWVkOiA1MDAsXG4gICAgICBlYXNlOiAnY3ViaWMtYmV6aWVyKDAuNDU1LCAwLjAzLCAwLjUxNSwgMC45NTUpJyxcbiAgICB9KTtcblxuICAgIGNvbnN0IGdvVG9TbGlkZVRlc3RpbW9uaWFsR2FsbGVyeSA9IGdvVG9TbGlkZSh0ZXN0aW1vbmlhbEdhbGxlcnkpO1xuICAgIGNvbnN0IHVwZGF0ZVRlc3RpbW9uaWFsVGh1bWJuYWlscyA9IHVwZGF0ZVRodW1ibmFpbHModGVzdGltb25pYWxUaHVtYm5haWxzKTtcblxuICAgIHRlc3RpbW9uaWFsV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdhZnRlci5sb3J5LnNsaWRlJywgKGV2KSA9PiB7XG4gICAgICB1cGRhdGVUZXN0aW1vbmlhbFRodW1ibmFpbHMoZXYuZGV0YWlsLmN1cnJlbnRTbGlkZSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0aW1vbmlhbFRodW1ibmFpbHMuZm9yRWFjaCgoZWwpID0+XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2xpZGVOdW0gPSBOdW1iZXIoZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNsaWRlLW51bScpKSAtIDE7XG4gICAgICAgIGdvVG9TbGlkZVRlc3RpbW9uaWFsR2FsbGVyeShzbGlkZU51bSk7XG4gICAgICB9KSk7XG4gIH1cblxuICBuYXZUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0b2dnbGVOYXYoKTtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBldi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoaXNWaXNpYmxlID09PSAndHJ1ZScpIHtcbiAgICAgIGJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWRlTmF2LCB7b25jZTogdHJ1ZX0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZU5hdik7XG4gICAgfVxuICB9LCBmYWxzZSk7XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHtcbiAgICBsZXQgaXNFc2NhcGUgPSAna2V5JyBpbiBldnQgP1xuICAgICAgKGV2dC5rZXkgPT0gJ0VzY2FwZScgfHwgZXZ0LmtleSA9PSAnRXNjJykgOlxuICAgICAgKGV2dC5rZXlDb2RlID09IDI3KTtcblxuICAgIGlmIChpc0VzY2FwZSkge1xuICAgICAgaGlkZU5hdigpO1xuICAgICAgYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZGVOYXYpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuY29uc3QgZ2FQcm9wZXJ0eSA9ICdVQS01MTM2MDY0OC0yJztcblxuY29uc3QgIGRpc2FibGVTdHIgPSAnZ2EtZGlzYWJsZS0nICsgZ2FQcm9wZXJ0eTtcblxuaWYgKGRvY3VtZW50LmNvb2tpZS5pbmRleE9mKGRpc2FibGVTdHIgKyAnPXRydWUnKSA+IC0xKSB7XG4gIHdpbmRvd1tkaXNhYmxlU3RyXSA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIGdhT3B0b3V0KCkge1xuICBkb2N1bWVudC5jb29raWUgPSBkaXNhYmxlU3RyICsgJz10cnVlOyBleHBpcmVzPVRodSwgMzEgRGVjIDIwOTkgMjM6NTk6NTkgVVRDOyBwYXRoPS8nO1xuICB3aW5kb3dbZGlzYWJsZVN0cl0gPSB0cnVlO1xuXG59XG4iXX0=
